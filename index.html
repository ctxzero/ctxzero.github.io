<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ctxzero â€” Portfolio</title>
<meta name="description" content="ctxzero â€” Penetration Tester, Red Teamer & Cybersecurity enthusiast. Portfolio, skills, projects and contact." />
<meta property="og:title" content="ctxzero â€” Portfolio" />
<meta property="og:description" content="Penetration Tester, Red Teamer & Bug Bounty Hunter â€” Portfolio & Projects." />
<meta property="og:type" content="website" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#000000;
  --white:#ffffff;
  --muted:rgba(255,255,255,0.85);
  --glass: rgba(255,255,255,0.03);
  --border: rgba(255,255,255,0.06);
  --radius:14px;
  --gap:24px;
  --font: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  --grad: linear-gradient(90deg,#ff0000,#ff7f00,#ffff00);
  --accent-glow: 0 8px 30px rgba(255,127,0,0.06);
  --reduced-motion: 0; /* 1 if user prefers reduced motion */
}

/* Respect user preference for reduced motion */
@media (prefers-reduced-motion: reduce){
  :root{ --reduced-motion: 1; }
}

/* basic */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--white);font-family:var(--font);-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
.container{max-width:1200px;margin:100px auto 120px;padding:0 20px}

/* STICKY HEADER */
.header{
  position:fixed;
  top:12px;
  left:50%;
  transform:translateX(-50%);
  width:calc(100% - 40px);
  max-width:1200px;
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:space-between;
  pointer-events:auto;
}
.brand{
  display:flex;gap:12px;align-items:center;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px;padding:8px 12px;border:1px solid var(--border);backdrop-filter: blur(6px);
}
.brand .logo{font-weight:900;font-size:18px;letter-spacing:0.6px}
.nav{display:flex;gap:12px;align-items:center}
.nav a{font-weight:700;padding:8px 12px;border-radius:10px;transition:transform .12s ease,box-shadow .12s ease}
.nav a:hover{transform:translateY(-3px);box-shadow:var(--accent-glow)}
.header .controls{display:flex;gap:8px;align-items:center}

/* HERO */
.hero{position:relative;height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;overflow:hidden;background:var(--bg);padding:0 20px}
canvas#hero-bg{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;display:block}
.hero-inner{position:relative;z-index:2;max-width:980px;padding:40px}

/* NAME */
h1.name{color:white;font-size:clamp(48px,10vw,110px);font-weight:900;margin:0 0 12px 0;text-shadow:0 8px 40px rgba(0,0,0,0.7);letter-spacing:-1px}

/* ROLE / typewriter */
.role-wrap{height:64px;display:flex;align-items:center;justify-content:center;margin-top:6px;position:relative}
.role-line{
  font-weight:800;
  font-size:clamp(18px,3.5vw,26px);
  letter-spacing:0.6px;
  background:var(--grad);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  display:inline-block;
  white-space:nowrap;
  overflow:hidden;
  position:relative;
  padding-right:10px;
  will-change:opacity,transform;
}
.role-line::after{
  content: "";
  width:2px;height:1.06em;background:var(--white);display:inline-block;margin-left:6px;vertical-align:middle;
  opacity:0.95;
  animation:blink 1s steps(2, start) infinite;
}
@keyframes blink{50%{opacity:0}100%{opacity:1}}

/* section headings */
.section{margin-bottom:80px}
.section-heading{
  text-align:center;font-weight:900;font-size:clamp(30px,5.5vw,56px);margin:0 0 14px 0;color:var(--white);
  background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent;opacity:0;transform:translateY(18px);transition:opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1);position:relative;display:inline-block;padding-bottom:6px;
}
.section-heading.revealed{opacity:1;transform:translateY(0);background-size:200% 100%;animation:gradMove 3s linear infinite}
.section-heading.revealed::after{content:"";position:absolute;left:50%;transform:translateX(-50%);bottom:0;height:4px;width:60%;border-radius:4px;background:linear-gradient(90deg,#ff0000,#ff7f00,#ffff00);box-shadow:0 6px 20px rgba(255,127,0,0.12);opacity:0.95;transition:width .4s ease}
@keyframes gradMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

/* panel (glass) */
.panel{border-radius:var(--radius);padding:26px;border:1px solid var(--border);background:var(--glass);backdrop-filter: blur(6px) saturate(1.05);max-width:1100px;margin:0 auto;opacity:0;transform:translateY(18px);transition:opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1);}
.panel.revealed{opacity:1;transform:translateY(0)}
.panel:hover{box-shadow:var(--accent-glow)}

/* About */
.about p{color:var(--white);line-height:1.8;font-size:18px;margin:0 0 12px 0}
.about ul{margin:12px 0 0 18px;color:var(--white);line-height:1.9}
.about-meta{display:flex;align-items:center;gap:10px;margin-top:16px;justify-content:flex-start}
.flag{font-size:20px;line-height:1;display:inline-block}
.based{font-size:13px;color:rgba(255,255,255,0.9);font-weight:700}

/* SKILLS grid */
.skills-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--gap);margin-top:10px}
@media (max-width:920px){.skills-grid{grid-template-columns:1fr}}
.skill-block{display:flex;flex-direction:column;align-items:center;gap:10px}
.skill-title{font-weight:900;color:var(--white);font-size:18px;margin-bottom:6px;text-align:center;opacity:0;transform:translateY(18px);transition:opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1);}
.skill-title.revealed{opacity:1;transform:translateY(0);}

/* skill card deeper */
.skill-card{width:100%;min-height:160px;padding:18px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,0.015);display:flex;flex-direction:column;gap:12px;transition:box-shadow .3s ease;}
.skill-card:hover{box-shadow:0 0 20px rgba(255,127,0,0.05),0 0 35px rgba(255,0,0,0.03);}

/* bar */
.bar-wrap{height:18px;background:rgba(255,255,255,0.02);border-radius:12px;overflow:hidden}
.bar{height:100%;width:0%;border-radius:12px;background:linear-gradient(90deg,#ff0000,#ff7f00,#ffff00);background-size:200% 100%;animation:flow 3s linear infinite;transition:width 1.2s cubic-bezier(.2,.9,.2,1);}
@keyframes flow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

/* projects */
.projects-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:16px}
@media (max-width:1000px){.projects-grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:640px){.projects-grid{grid-template-columns:1fr}}
.project-card{padding:18px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,0.015);display:flex;flex-direction:column;gap:12px;min-height:200px;transition:transform .18s ease, box-shadow .18s ease;}
.project-card:hover{transform:translateY(-6px);box-shadow:var(--accent-glow)}
.project-meta{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.project-tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:auto}
.tag{font-size:12px;padding:6px 8px;border-radius:8px;border:1px solid var(--border);background:rgba(255,255,255,0.01)}

/* tools */
.tools-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:center;margin-top:8px}
.tools-row img{height:48px;width:auto;filter:grayscale(0.05)}

/* CONTACT / footer */
.contact-row{display:flex;justify-content:space-between;align-items:flex-start;gap:24px;flex-wrap:wrap}
.contact-links{display:flex;flex-direction:column;gap:12px;align-items:flex-start}
.contact-links .btn{width:220px;justify-content:flex-start}
.contact-meta{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
@media (max-width:760px){
  .contact-row{flex-direction:column;align-items:center}
  .contact-meta{align-items:center}
  .contact-links .btn{width:100%}
}

/* button */
.btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;border:2px solid transparent;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));color:var(--white);font-weight:800;cursor:pointer;transition:transform .12s ease, border-color .12s ease, box-shadow .12s ease;}
.btn:hover{transform:translateY(-4px);box-shadow:0 8px 30px rgba(255,127,0,0.06)}
.icon{width:20px;height:20px;display:inline-block}

/* back to top */
#backToTop{position:fixed;right:18px;bottom:18px;width:48px;height:48px;border-radius:10px;background:linear-gradient(90deg,#ff7f00,#ff0000);display:flex;align-items:center;justify-content:center;color:#111;box-shadow:0 8px 30px rgba(255,127,0,0.12);border:none;cursor:pointer;opacity:0;pointer-events:none;transform:translateY(12px);transition:opacity .18s ease,transform .18s ease;z-index:9999}
#backToTop.visible{opacity:1;pointer-events:auto;transform:none}

/* tiny utilities */
.revealed-card{opacity:1;transform:translateY(0);transition:opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1)}
.small{font-size:13px;color:rgba(255,255,255,0.8)}

/* terminal easter egg overlay */
#konamiTerm{position:fixed;inset:10% 10% auto 10%;height:60vh;background:#071018;border-radius:12px;border:1px solid rgba(255,255,255,0.04);padding:16px;z-index:10001;display:none;flex-direction:column;gap:8px;box-shadow:0 30px 80px rgba(0,0,0,0.8)}
#konamiTerm pre{margin:0;color:#7fffd4;font-family:monospace;font-size:13px;white-space:pre-wrap;overflow:auto;height:100%}

/* hack-mode (green) */
.hack-mode body, .hack-mode :root{--grad: linear-gradient(90deg,#00ff6a,#00ff00,#66ffcc)}
.hack-mode .role-line, .hack-mode .section-heading{background:linear-gradient(90deg,#00ff6a,#00ff00,#66ffcc);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.hack-mode .project-card:hover{box-shadow: 0 0 30px rgba(0,255,128,0.06)}
/* responsive */
@media (max-width:520px){ h1.name{font-size:44px} .cert-grid{flex-direction:column} }
</style>
</head>
<body>
<!-- STICKY HEADER -->
<header class="header" role="banner" aria-label="Top navigation">
  <div class="brand" role="link" aria-label="ctxzero home" onclick="document.getElementById('hero').scrollIntoView({behavior:'smooth'})" style="cursor:pointer">
    <div class="logo">ctxzero</div>
    <div class="small">pentest â€¢ redteam</div>
  </div>

  <nav class="nav" role="navigation" aria-label="Main navigation">
    <a href="#about">About</a>
    <a href="#skills">Skills</a>
    <a href="#projects">Projects</a>
    <a href="#contact">Contact</a>
    <button id="hackToggle" class="btn" title="Toggle hack mode (easter-ish)"><span class="small">Hack Mode</span></button>
  </nav>

  <div class="controls" aria-hidden="true" style="opacity:0.9">
    <button id="toggleKonami" class="btn small" title="Konami Terminal (easter egg)">Terminal</button>
  </div>
</header>

<!-- HERO -->
<section class="hero" id="hero" aria-label="Intro hero">
  <canvas id="hero-bg" aria-hidden="true"></canvas>

  <div class="hero-inner" role="region" aria-labelledby="hero-heading">
    <h1 id="hero-heading" class="name">ctxzero</h1>

    <div class="role-wrap" aria-hidden="true">
      <div id="roleText" class="role-line" aria-live="polite"></div>
    </div>

    <p style="margin-top:18px;max-width:720px;margin-left:auto;margin-right:auto;color:rgba(255,255,255,0.86);line-height:1.6">
      Turning curiosity into secure systems â€” I think like an attacker so defenders sleep better. Web & network assessments, AD focus, automation with Python.
    </p>

    <div style="margin-top:20px;display:flex;gap:12px;justify-content:center;z-index:3">
      <a class="btn" href="#projects">View Projects</a>
      <a class="btn" href="#contact">Get in touch</a>
    </div>
  </div>
</section>

<main class="container" id="main" role="main">
  <!-- ABOUT -->
  <section class="section" id="about" aria-labelledby="about-h">
    <h2 id="about-h" class="section-heading">About Me</h2>
    <div class="panel about">
      <p><strong>Hi, I'm ctxzero,</strong> a cybersecurity enthusiast, constantly learning and improving my skills to make systems resilient and hardened against threat actors.</p>
      <p>Manual testing combined with tooling for reliable, repeatable findings. Web application & network assessments, Active Directory focus, and scripting for automation. Responsible disclosure, reproducible tooling, and continuous learning to stay ahead.</p>

      <div class="about-meta" aria-hidden="true">
        <span class="flag" title="Based in Europe">ðŸ‡ªðŸ‡º</span>
        <span class="based">based in Europe</span>
      </div>
    </div>
  </section>

  <!-- SKILLS -->
  <section class="section" id="skills" aria-labelledby="skills-h">
    <h2 id="skills-h" class="section-heading">My Skills</h2>
    <div class="panel">
      <div class="skills-grid" role="list">
        <!-- Web App -->
        <div class="skill-block" role="listitem">
          <div class="skill-title">Web Application Pentesting</div>
          <div class="skill-card">
            <div class="bar-wrap"><div class="bar" data-percent="75" aria-hidden="true"></div></div>
            <div class="skill-desc">Strong manual testing skills combined with professional tools to find and verify vulnerabilities.</div>
            <div class="badge-row" aria-hidden="true"><img src="https://it.tarah.in/img/services/7405d204-db67-46ac-987c-4a31403f86a9.png" alt="Burp badge" loading="lazy"></div>
          </div>
        </div>
        <!-- Network -->
        <div class="skill-block" role="listitem">
          <div class="skill-title">Network Pentesting</div>
          <div class="skill-card">
            <div class="bar-wrap"><div class="bar" data-percent="85" aria-hidden="true"></div></div>
            <div class="skill-desc">Excellent methodology and hands-on knowledge in scanning, exploitation and post-exploitation.</div>
            <div class="badge-row" aria-hidden="true"><img src="https://th.bing.com/th/id/R.6a86904c53c519c0a1c19028e9cbebcd?rik=5GAjdGGum0j1eQ&pid=ImgRaw" alt="Metasploit badge" loading="lazy"></div>
          </div>
        </div>
        <!-- Active Directory -->
        <div class="skill-block" role="listitem">
          <div class="skill-title">Active Directory</div>
          <div class="skill-card">
            <div class="bar-wrap"><div class="bar" data-percent="50" aria-hidden="true"></div></div>
            <div class="skill-desc">Understanding of AD enumeration, attack paths and privilege escalation techniques.</div>
            <div class="badge-row" aria-hidden="true"></div>
          </div>
        </div>
        <!-- Scripting -->
        <div class="skill-block" role="listitem">
          <div class="skill-title">Scripting</div>
          <div class="skill-card">
            <div class="bar-wrap"><div class="bar" data-percent="60" aria-hidden="true"></div></div>
            <div class="skill-desc">Python, Bash and Shell scripting for automation, tooling and exploit proof-of-concepts.</div>
            <div class="badge-row" aria-hidden="true"><img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg" alt="Python badge" loading="lazy"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROJECTS -->
  <section class="section" id="projects" aria-labelledby="projects-h">
    <h2 id="projects-h" class="section-heading">Projects</h2>
    <div class="panel">
      <div class="projects-grid" role="list">
        <article class="project-card" role="article" aria-labelledby="p1">
          <h3 id="p1">AD Attack Lab (private)</h3>
          <div class="project-meta small">Self-hosted Active Directory lab simulating enterprise attack paths. Focus: visibility into Kerberoasting, ACL abuse, and lateral movement.</div>
          <p class="small">Stack: Windows Server, BloodHound, PowerView, custom scripts. Purpose: reproduce real-world attack chains for training & research.</p>
          <div class="project-tags">
            <span class="tag">Active Directory</span>
            <span class="tag">BloodHound</span>
            <span class="tag">Custom Scripts</span>
          </div>
        </article>

        <article class="project-card" role="article" aria-labelledby="p2">
          <h3 id="p2">Automated Recon Toolkit</h3>
          <div class="project-meta small">A set of Python tools for pre-engagement recon, configurable to reduce noise and produce reproducible reports.</div>
          <p class="small">Features: parallelized scanning, smart rate-limiting, JSON output for pipelines.</p>
          <div class="project-tags">
            <span class="tag">Python</span>
            <span class="tag">Recon</span>
            <span class="tag">Automation</span>
          </div>
        </article>

        <article class="project-card" role="article" aria-labelledby="p3">
          <h3 id="p3">Web App Red Team Playbook</h3>
          <div class="project-meta small">Consolidated playbook of manual techniques and tool workflows for complex web application hunts, with anonymized case studies.</div>
          <p class="small">Includes a checklist for safe-target testing and reproducible PoC generation.</p>
          <div class="project-tags">
            <span class="tag">Webapp</span>
            <span class="tag">Methodology</span>
            <span class="tag">Playbook</span>
          </div>
        </article>
      </div>

      <div style="margin-top:18px;text-align:center" class="small">
        Can't share everything publicly â€” can provide detailed, sanitized writeups on request.
      </div>

      <div style="margin-top:14px;text-align:center">
        <div class="tools-row" aria-hidden="true">
          <img src="https://upload.wikimedia.org/wikipedia/commons/5/5b/Nmap_logo.png" alt="nmap" loading="lazy">
          <img src="https://portswigger.net/assets/images/logos/burp-suite-logo.svg" alt="burp" loading="lazy">
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/66/Metasploit_framework_logo.png" alt="metasploit" loading="lazy">
          <img src="https://upload.wikimedia.org/wikipedia/commons/8/88/Python_logo.png" alt="python" loading="lazy">
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="section" id="contact" aria-labelledby="contact-h">
    <h2 id="contact-h" class="section-heading">Get in Touch</h2>
    <div class="panel" style="padding-bottom:38px;min-height:200px;">
      <div class="contact-row">
        <div class="contact-links" aria-label="social links">
          <a class="btn" href="#" target="_blank" rel="noopener" aria-label="GitHub">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M12 .5C5.65.5.75 5.4.75 11.75c0 4.84 3.14 8.95 7.5 10.4.55.1.75-.24.75-.53 0-.26-.01-1.12-.01-2.03-3.05.66-3.69-.74-3.92-1.42-.13-.36-.7-1.42-1.2-1.71-.41-.23-1-.8-.01-.82.93-.02 1.59.86 1.81 1.22 1.06 1.82 2.75 1.3 3.43.99.11-.78.41-1.3.74-1.6-2.73-.31-5.6-1.37-5.6-6.09 0-1.35.48-2.45 1.26-3.32-.13-.31-.55-1.56.12-3.25 0 0 1.02-.33 3.34 1.26 .97-.27 2.01-.4 3.04-.4 1.03 0 2.07.13 3.04.4 2.32-1.6 3.34-1.26 3.34-1.26.67 1.69.25 2.94.12 3.25.78.87 1.26 1.97 1.26 3.32 0 4.73-2.88 5.77-5.62 6.08.42.36.8 1.08.8 2.18 0 1.57-.01 2.84-.01 3.23 0 .29.2.64.76.53 4.36-1.45 7.5-5.56 7.5-10.4C23.25 5.4 18.35.5 12 .5z"/></svg>
            </span> GitHub
          </a>

          <a class="btn" href="#" target="_blank" rel="noopener" aria-label="LinkedIn">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M20.45 20.45h-3.555v-5.569c0-1.328-.027-3.036-1.85-3.036-1.852 0-2.135 1.447-2.135 2.943v5.662H9.354V9.75h3.415v1.498h.049c.476-.9 1.635-1.85 3.366-1.85 3.6 0 4.265 2.369 4.265 5.449v6.603zM5.337 8.299a2.062 2.062 0 1 1 0-4.125 2.062 2.062 0 0 1 0 4.125zM6.96 20.45H3.714V9.75H6.96v10.7z"/></svg>
            </span> LinkedIn
          </a>

          <a class="btn" href="#" target="_blank" rel="noopener" aria-label="TryHackMe">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L3 7v6c0 5 3.8 9.7 9 9.9 5.2-.2 9-4.9 9-9.9V7l-9-5z"/></svg>
            </span> TryHackMe
          </a>
        </div>

        <div class="contact-meta" aria-label="contact meta">
          <div>Discord: <strong>ctxzero</strong></div>
          <div>Email: <span id="emailToggle" role="button" tabindex="0" style="cursor:pointer;font-weight:800">(click to reveal)</span></div>
        </div>
      </div>

      <div class="contact-quote" style="margin-top:18px;text-align:center;font-style:italic;color:rgba(255,255,255,0.85);font-size:14px">"The nicest thing about standards is that there are so many of them." â€” (a hacker's humble wink)</div>
    </div>
  </section>

  <footer style="text-align:center;color:rgba(255,255,255,0.06);margin-top:30px">Demo build â€” replace any placeholder links & images with your production assets.</footer>
</main>

<!-- BACK TO TOP -->
<button id="backToTop" aria-label="Back to top" title="Back to top">â†‘</button>

<!-- KONAMI TERMINAL -->
<div id="konamiTerm" role="dialog" aria-label="Konami Terminal">
  <pre id="konamiOut">Konami terminal init...
</pre>
  <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:8px">
    <button id="konimiClose" class="btn small">Close</button>
  </div>
</div>

<script>
/* ===========================
  Typewriter role text
=========================== */
(function(){
  const el = document.getElementById('roleText');
  const phrases = [
    'Penetration Tester',
    'Red Teamer',
    'Ethical Hacker',
    'Bug Bounty Hunter'
  ];
  const TYPING_SPEED = 40;
  const ERASE_SPEED = 30;
  const PAUSE = 900;
  let pi = 0, ci = 0;
  let reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  function typeNext(){
    const text = phrases[pi];
    if(ci < text.length){
      el.textContent = text.slice(0, ci+1);
      ci++;
      setTimeout(typeNext, reduced?0:TYPING_SPEED);
    } else {
      setTimeout(() => erase(), PAUSE);
    }
  }
  function erase(){
    if(ci > 0){
      el.textContent = el.textContent.slice(0, -1);
      ci--;
      setTimeout(erase, reduced?0:ERASE_SPEED);
    } else {
      pi = (pi + 1) % phrases.length;
      setTimeout(typeNext, 180);
    }
  }

  el.style.backgroundSize = '200% 100%';
  el.style.animation = reduced ? 'none' : 'gradMove 3s linear infinite';
  typeNext();
})();

/* ===========================
  IntersectionObserver reveals
=========================== */
const io = new IntersectionObserver((entries, obs) => {
  entries.forEach(e => {
    if(e.isIntersecting){
      const sec = e.target;
      const h = sec.querySelector('.section-heading');
      if(h) h.classList.add('revealed');
      const p = sec.querySelector('.panel');
      if(p) p.classList.add('revealed');
      sec.querySelectorAll('.skill-card, .cert-card, .project-card').forEach((c, idx) => {
        setTimeout(()=> c.classList.add('revealed-card'), 120 + idx*80);
      });
      sec.querySelectorAll('.skill-title').forEach((t,i)=>{
        setTimeout(()=>t.classList.add('revealed'), i*80);
      });
      if(sec.id === 'skills'){
        document.querySelectorAll('.bar').forEach((bar, i) => {
          const pct = parseInt(bar.dataset.percent||0,10);
          setTimeout(()=>{ bar.style.width = pct + '%'; }, 200 + i*140);
        });
      }
      obs.unobserve(sec);
    }
  });
},{threshold:0.14});
document.querySelectorAll('.section').forEach(s => io.observe(s));

/* ===========================
  Email reveal accessibility
=========================== */
const emailToggle = document.getElementById('emailToggle');
emailToggle.addEventListener('click', toggleEmail);
emailToggle.addEventListener('keypress', (e)=>{ if(e.key==='Enter' || e.key===' ') toggleEmail(); });
function toggleEmail(){
  if(emailToggle.dataset.shown === '1'){
    emailToggle.textContent='(click to reveal)'; emailToggle.dataset.shown='0';
  } else {
    emailToggle.textContent='ctxzero.pentest@gmail.com'; emailToggle.dataset.shown='1';
  }
}

/* ===========================
  Back to top button
=========================== */
const backBtn = document.getElementById('backToTop');
window.addEventListener('scroll', () => {
  if(window.scrollY > window.innerHeight/2){
    backBtn.classList.add('visible');
  } else backBtn.classList.remove('visible');

  // sticky header subtle hide on scroll down (optional)
  if(typeof lastScrollY === 'undefined') window.lastScrollY = window.scrollY;
  const header = document.querySelector('.header');
  if(window.scrollY > window.lastScrollY + 10) header.style.transform = 'translateY(-20px) translateX(-50%)';
  else header.style.transform = 'translateY(0) translateX(-50%)';
  window.lastScrollY = window.scrollY;
});
backBtn.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));

/* ===========================
  Hack mode & konami terminal
=========================== */
const hackToggle = document.getElementById('hackToggle');
hackToggle.addEventListener('click', ()=> document.documentElement.classList.toggle('hack-mode'));
const konamiTerm = document.getElementById('konamiTerm');
const konamiOut = document.getElementById('konamiOut');
document.getElementById('toggleKonami').addEventListener('click', ()=> showKonami()); 
document.getElementById('konimiClose').addEventListener('click', ()=> hideKonami());

function showKonami(){
  konamiTerm.style.display='flex';
  konamiOut.textContent = "Konami Terminal Booting...\n\n> welcome, operator\n> loading snippets...\n\n" + fakeLogs();
}
function hideKonami(){ konamiTerm.style.display='none'; }

function fakeLogs(){
  const lines = [
    "[*] scanning local lab networks...",
    "[*] bloodhound: building graph...",
    "[*] fuzz: launching 12 workers",
    "[*] loot: saved /tmp/exfil-2025-10-26.tar.gz",
    "[*] note: remember safe disclosure"
  ];
  return lines.join("\n");
}

/* Konami code to toggle hack mode (Up Up Down Down Left Right Left Right B A) */
(function(){
  const konami = [38,38,40,40,37,39,37,39,66,65];
  let idx = 0;
  window.addEventListener('keydown', (e)=>{
    if(e.keyCode === konami[idx]) idx++; else idx = (e.keyCode === konami[0] ? 1 : 0);
    if(idx === konami.length){ document.documentElement.classList.toggle('hack-mode'); idx=0; showKonami(); }
  });
})();

/* ===========================
  Animated Grid Background (canvas)
  - performance conscious, uses requestAnimationFrame
  - reduced-motion respects prefers-reduced-motion
  - adjustable density based on viewport width
=========================== */
(function(){
  const canvas = document.getElementById('hero-bg');
  const ctx = canvas.getContext('2d');
  let w = 0, h = 0, gridCols = 36, gridRows = 20;
  let t0 = performance.now();
  const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  function resize(){
    const dpr = Math.min(window.devicePixelRatio || 1, 2);
    w = canvas.width = Math.max(300, Math.floor(window.innerWidth * dpr));
    h = canvas.height = Math.max(300, Math.floor(window.innerHeight * dpr));
    canvas.style.width = window.innerWidth + 'px';
    canvas.style.height = window.innerHeight + 'px';
    gridCols = Math.max(12, Math.floor(window.innerWidth / 36));
    gridRows = Math.max(8, Math.floor(window.innerHeight / 72));
  }
  resize();
  window.addEventListener('resize', () => { resize(); });

  // grid points
  function makeGrid(cols, rows){
    const pts = [];
    for(let y=0;y<=rows;y++){
      const row = [];
      for(let x=0;x<=cols;x++){
        row.push({x: x/cols, y: y/rows, off: Math.random()*1000});
      }
      pts.push(row);
    }
    return pts;
  }
  let pts = makeGrid(gridCols, gridRows);
  function rebuildIfNeeded(){
    const cols = Math.max(12, Math.floor(window.innerWidth / 36));
    const rows = Math.max(8, Math.floor(window.innerHeight / 72));
    if(cols !== gridCols || rows !== gridRows){ gridCols = cols; gridRows = rows; pts = makeGrid(gridCols, gridRows); }
  }

  // draw each frame
  let rafId;
  function draw(now){
    if(reduced){ // static subtle overlay
      ctx.clearRect(0,0,w,h);
      ctx.fillStyle = 'rgba(0,0,0,0)';
      ctx.fillRect(0,0,w,h);
      // single soft vignette and faint static grid
      ctx.strokeStyle = 'rgba(255,140,0,0.03)';
      ctx.lineWidth = 1 * (window.devicePixelRatio||1);
      for(let i=0;i<20;i++){
        const yy = (i/20)*h;
        ctx.beginPath(); ctx.moveTo(0,yy); ctx.lineTo(w,yy); ctx.stroke();
      }
      return;
    }

    rebuildIfNeeded();
    ctx.clearRect(0,0,w,h);

    // background radial gradient
    const g = ctx.createRadialGradient(w*0.3,h*0.3,0,w*0.6,h*0.6,Math.max(w,h));
    g.addColorStop(0,'rgba(255,80,0,0.06)');
    g.addColorStop(0.35,'rgba(255,140,0,0.03)');
    g.addColorStop(1,'rgba(0,0,0,0)');
    ctx.fillStyle = g;
    ctx.fillRect(0,0,w,h);

    const time = (now - t0) * 0.001;

    // compute animated positions
    const px = (p) => (p.x * w + Math.sin(time*0.8 + p.off) * 18 + Math.cos(time*0.6 + p.off*0.3) * 6);
    const py = (p) => (p.y * h + Math.cos(time*0.9 + p.off*0.7) * 12 + Math.sin(time*0.5 + p.off*0.4) * 4);

    // lines - draw rows
    ctx.lineWidth = 1.2 * (window.devicePixelRatio||1);
    for(let y=0;y<pts.length;y++){
      ctx.beginPath();
      for(let x=0;x<pts[y].length;x++){
        const p = pts[y][x];
        const xpix = px(p), ypix = py(p);
        if(x===0) ctx.moveTo(xpix, ypix);
        else ctx.lineTo(xpix, ypix);
      }
      // gradient stroke per line (left->right)
      const grad = ctx.createLinearGradient(0,0,w,0);
      grad.addColorStop(0,'rgba(255,0,0,0.05)');
      grad.addColorStop(0.5,'rgba(255,127,0,0.12)');
      grad.addColorStop(1,'rgba(255,255,0,0.035)');
      ctx.strokeStyle = grad;
      ctx.stroke();
    }

    // columns (vertical-ish)
    ctx.lineWidth = 0.9 * (window.devicePixelRatio||1);
    for(let x=0;x<pts[0].length;x++){
      ctx.beginPath();
      for(let y=0;y<pts.length;y++){
        const p = pts[y][x];
        const xpix = px(p), ypix = py(p);
        if(y===0) ctx.moveTo(xpix, ypix);
        else ctx.lineTo(xpix, ypix);
      }
      const grad2 = ctx.createLinearGradient(0,0,0,h);
      grad2.addColorStop(0,'rgba(255,0,0,0.035)');
      grad2.addColorStop(0.6,'rgba(255,127,0,0.07)');
      grad2.addColorStop(1,'rgba(255,255,0,0.02)');
      ctx.strokeStyle = grad2;
      ctx.stroke();
    }

    // highlight intersections subtly
    ctx.fillStyle = 'rgba(255,180,60,0.04)';
    for(let y=0;y<pts.length;y+=2){
      for(let x=0;x<pts[y].length;x+=2){
        const p = pts[y][x];
        const r = 1.2 * (window.devicePixelRatio||1);
        ctx.beginPath();
        ctx.arc(px(p), py(p), r, 0, Math.PI*2);
        ctx.fill();
      }
    }

    rafId = requestAnimationFrame(draw);
  }

  // throttle fps to around 45 to reduce battery load
  let last = 0, fpsInterval = 1000/45;
  function tick(now){
    if(!last) last = now;
    const elapsed = now - last;
    if(elapsed > fpsInterval){
      last = now - (elapsed % fpsInterval);
      draw(now);
    } else {
      // still request next tick
      rafId = requestAnimationFrame(tick);
    }
  }

  // start
  rafId = requestAnimationFrame(tick);

  // cleanup on page unload
  window.addEventListener('visibilitychange', ()=> {
    if(document.hidden){ if(rafId) cancelAnimationFrame(rafId); rafId=null; }
    else { if(!rafId) rafId = requestAnimationFrame(tick); }
  });
})();

/* ===========================
  Smooth scroll behaviour for internal links
=========================== */
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', (e)=>{
    const target = document.querySelector(a.getAttribute('href'));
    if(target){
      e.preventDefault();
      target.scrollIntoView({behavior:'smooth', block:'start'});
    }
  });
});

/* ===========================
  Tiny performance & UX tweaks:
  - lazy images already added
  - don't run heavy animations if reduced-motion is set (handled above)
  - minimal JS footprint, no external libs
=========================== */
</script>
</body>
</html>
